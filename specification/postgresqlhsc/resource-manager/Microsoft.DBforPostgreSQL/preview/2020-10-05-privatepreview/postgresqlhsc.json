{
  "swagger": "2.0",
  "info": {
    "title": "HyperscaleCitusManagementClient",
    "description": "The Microsoft Azure management API provides create, read, update, and delete functionality for Azure PostgreSQL Hyperscale (Citus) resources including server groups, servers, databases, firewall rules, VNET rules, security alert policies, log files and configurations.",
    "version": "2020-10-05-privatepreview"
  },
  "host": "management.azure.com",
  "schemes": [
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "security": [
    {
      "azure_auth": [
        "user_impersonation"
      ]
    }
  ],
  "securityDefinitions": {
    "azure_auth": {
      "type": "oauth2",
      "authorizationUrl": "https://login.microsoftonline.com/common/oauth2/authorize",
      "flow": "implicit",
      "description": "Azure Active Directory OAuth2 Flow",
      "scopes": {
        "user_impersonation": "impersonate your user account"
      }
    }
  },
  "paths": {
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DBForPostgreSql/serverGroupsv2/{serverGroupName}": {
      "put": {
        "description": "Creates a new server group with servers.",
        "tags": [
          "PetShop"
        ],
        "operationId": "PetShop_CreateOrUpdate",
        "x-ms-long-running-operation": true,
        "x-ms-examples": {
          "Create a new server group": {
            "$ref": "./examples/ServerGroupCreate.json"
          },
          "Create a new server group as a point in time restore": {
            "$ref": "./examples/ServerGroupCreatePITR.json"
          },
          "Create a new server group as a read replica": {
            "$ref": "./examples/ServerGroupCreateReadReplica.json"
          }
        },
        "parameters": [
          {
            "$ref": "../../../../../common-types/resource-management/v1/types.json#/parameters/ApiVersionParameter"
          },
          {
            "$ref": "../../../../../common-types/resource-management/v1/types.json#/parameters/SubscriptionIdParameter"
          },
          {
            "$ref": "../../../../../common-types/resource-management/v1/types.json#/parameters/ResourceGroupNameParameter"
          },
          {
            "$ref": "#/parameters/ServerGroupNameParameter"
          },
          {
            "name": "parameters",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/PetShop"
            },
            "description": "The required parameters for creating or updating a server group."
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/PetShop"
            }
          },
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/PetShop"
            }
          },
          "202": {
            "description": "Accepted"
          }
        }
      }
    }
  },
  "definitions": {
    "PetShop": {
      "type": "object",
      "description": "Represents petshop",
      "allOf": [
        {
          "$ref": "../../../../../common-types/resource-management/v1/types.json#/definitions/TrackedResource"
        }
      ],
      "properties": {
        "systemData": {
          "description": "The system metadata relating to this resource",
          "$ref": "../../../../../common-types/resource-management/v2/types.json#/definitions/systemData"
        },
        "petShopName": {
          "type": "string",
          "description": "petshop name"
        },
        "address": {
          "type": "string",
          "description": "petshop address"
        },
        "petList":{
          "x-ms-mutability": ["create", "update"],
          "type": "array",
          "x-ms-identifiers": [
            "name"
          ],
          "description": "List of pets",
          "items": {
            "$ref": "#/definitions/Pet"
          }
        }
      }
    },
    "Pet": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the pet"
        },
        "count": {
          "type": "integer",
          "format": "int32",
          "default": 0,
          "description": "Pet count"
        }
      }
    }
  },
  "parameters": {
    "ServerGroupNameParameter": {
      "name": "serverGroupName",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The name of the server group.",
      "minLength": 1,
      "maxLength": 90,
      "x-ms-parameter-location": "method"
    }
  }
}
